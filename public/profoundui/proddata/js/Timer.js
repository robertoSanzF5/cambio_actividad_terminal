if(typeof window.pui=="undefined")window.pui={};
window.pui.Timer=function(){var c=(new Date).getTime(),b=false,d,a=this;this.timeout=600;this.showDebugInfo=false;this.action=null;this.checkFrequency=1E3;this.resetOnUserActivity=false;this.start=function(){if(!b){if(a.resetOnUserActivity)if(document.body.addEventListener){document.body.addEventListener("keydown",a.reset,false);document.body.addEventListener("mousemove",a.reset,false);document.body.addEventListener("click",a.reset,false);document.body.addEventListener("touchstart",a.reset,false);
document.body.addEventListener("touchmove",a.reset,false)}else if(document.body.attachEvent){document.body.attachEvent("onkeydown",a.reset);document.body.attachEvent("onmousemove",a.reset);document.body.attachEvent("onclick",a.reset)}a.reset();d=setInterval(a.check,a.checkFrequency);b=true}};this.stop=function(){if(b){clearInterval(d);if(a.resetOnUserActivity)if(document.body.removeEventListener){document.body.removeEventListener("keydown",a.reset,false);document.body.removeEventListener("mousemove",
a.reset,false)}else if(document.body.detachEvent){document.body.detachEvent("onkeydown",a.reset);document.body.detachEvent("onmousemove",a.reset)}b=false}};this.reset=function(){c=(new Date).getTime()};this.check=function(){var e=(new Date).getTime()-c;if(a.showDebugInfo)document.title=parseInt(e/1E3);if(e>=a.timeout*1E3){a.action!=null&&typeof a.action=="function"&&a.action();a.reset()}}};
